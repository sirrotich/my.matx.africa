import React, { useState, useEffect } from 'react';
import { useNavigate } from 'react-router-dom';
import axios from 'axios';
import { toast } from 'react-toastify'; // Import toast
import '../styles/Home.css';
import DynamicGasDropdown from '../components/DynamicGasDropdown';

const App = () => {

    const currentWeight = 10.23;  
    const cookingDaysRemaining = 47;  
    const todayUsage = 0.1;  
    const weekUsage = 0.56;  
    const averageUsage = 0.43;  
    const [currentDate, setCurrentDate] = useState('');

    useEffect(() => {
        const today = new Date();
        const formattedDate = `${today.getDate()}/${today.getMonth() + 1}/${today.getFullYear()}`;
        setCurrentDate(formattedDate);
      }, []); // Empty dependency array ensures this runs only once when the component is mounted
    
    const navigate = useNavigate();
    const [activeNav, setActiveNav] = useState('/');

    const handleNavigate = (path) => {
        setActiveNav(path);
        navigate(path);
    };

    


  return (
    <div className="home-container">
      <div className="welcome-wrapper">
        <h1 className="welcome-text">Welcome</h1>
        <DynamicGasDropdown />
      </div>
      
     <div className="main-top-card">
     <div className="header">  
        <div className="home-gas-data">
            {/* <div className="total-gas-weight">  
                13kg <span>Gas Cylinder</span> 
                
            </div> */}
            {/* <div className="home-gasias">
            <DynamicGasDropdown />
          </div>    */}
            {/* <div className="home-gas">
                <button className='home-gas-btn'><span className='home-gas-text'>Home Gas</span></button>
            </div>  */}
        </div> 
            

        <div className="gas-pad">

<div className="gas-pad-item">


        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M7 3.75C4.1005 3.75 1.75 6.10051 1.75 9V15C1.75 17.8995 4.10051 20.25 7 20.25H17C19.8995 20.25 22.25 17.8995 22.25 15V9C22.25 6.10051 19.8995 3.75 17 3.75H7ZM0.25 9C0.25 5.27208 3.27208 2.25 7 2.25H17C20.7279 2.25 23.75 5.27208 23.75 9V15C23.75 18.7279 20.7279 21.75 17 21.75H7C3.27208 21.75 0.25 18.7279 0.25 15V9ZM9 9.75C7.75736 9.75 6.75 10.7574 6.75 12C6.75 13.2426 7.75736 14.25 9 14.25C10.2426 14.25 11.25 13.2426 11.25 12C11.25 10.7574 10.2426 9.75 9 9.75ZM5.25 12C5.25 9.92893 6.92893 8.25 9 8.25C11.0711 8.25 12.75 9.92893 12.75 12C12.75 14.0711 11.0711 15.75 9 15.75C6.92893 15.75 5.25 14.0711 5.25 12ZM18.75 9.00006C18.75 8.58584 18.4142 8.25006 18 8.25006C17.5858 8.25006 17.25 8.58584 17.25 9.00006V12.523L14.624 8.58403C14.4407 8.30904 14.099 8.18647 13.7827 8.28224C13.4663 8.37801 13.25 8.66956 13.25 9.00006V15.0001C13.25 15.4143 13.5858 15.7501 14 15.7501C14.4142 15.7501 14.75 15.4143 14.75 15.0001V11.4771L17.376 15.4161C17.5593 15.6911 17.901 15.8137 18.2173 15.7179C18.5337 15.6221 18.75 15.3306 18.75 15.0001V9.00006Z" fill="#FAFAF9"/>
</svg>
<span> Gas Pad</span>

</div>


<div className="gas-pad-percentage">

  <span>100%</span>

  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M3 6.75C2.30964 6.75 1.75 7.30964 1.75 8V16C1.75 16.6904 2.30964 17.25 3 17.25H18C18.6904 17.25 19.25 16.6904 19.25 16V8C19.25 7.30964 18.6904 6.75 18 6.75H3ZM0.25 8C0.25 6.48122 1.48122 5.25 3 5.25H18C19.5188 5.25 20.75 6.48122 20.75 8V16C20.75 17.5188 19.5188 18.75 18 18.75H3C1.48122 18.75 0.25 17.5188 0.25 16V8ZM23 9.25C23.4142 9.25 23.75 9.58579 23.75 10V14C23.75 14.4142 23.4142 14.75 23 14.75C22.5858 14.75 22.25 14.4142 22.25 14V10C22.25 9.58579 22.5858 9.25 23 9.25ZM4.75 14.25V9.75H16.25V14.25H4.75ZM4.6 8.25C3.85442 8.25 3.25 8.85441 3.25 9.6V14.4C3.25 15.1456 3.85442 15.75 4.6 15.75H16.4C17.1456 15.75 17.75 15.1456 17.75 14.4V9.6C17.75 8.85441 17.1456 8.25 16.4 8.25H4.6Z" fill="#FAFAF9"/>
</svg>

  
  </div>


        </div>


                        
        </div>  
                   

        <div className="current-weight">  
            <h3 className='current-weight-text'>Current Weight</h3>  
            <div className="current-weight-kgs">{currentWeight} kg  </div>
            <div className="days-remaining">You have 23 cooking days </div>  
        </div>  



     </div>


     <div className="home-analytic">
                <div className="hometoday">  
                <span className="sizing">{todayUsage} Kg</span>
                    <span className="highlight">Today</span>  
                </div>  
                <svg  className="vertical-line" width="1" height="40" viewBox="0 0 1 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                <line x1="0.5" y1="1.61894e-08" x2="0.499998" y2="40" stroke="#004A4C"/>
                </svg>

                <div className="homeweek">
                    <span className="sizing">{weekUsage} Kg</span>
                    <span className="highlight">This Week</span>
                </div>

                <svg className="vertical-line" width="1" height="40" viewBox="0 0 1 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                <line x1="0.5" y1="1.61894e-08" x2="0.499998" y2="40" stroke="#004A4C"/>
                </svg>
                    
                <div className="homeaverage">
                    <span className="sizing">{averageUsage} Kg</span>
                    <span className="highlight">Average</span>
                </div>
            </div>


            <div className="home-hub-card">
      <div className="card-header">
        <div className="status-container">
        <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M7 4.04517C4.1005 4.04517 1.75 6.39567 1.75 9.29517V15.2952C1.75 18.1947 4.10051 20.5452 7 20.5452H17C19.8995 20.5452 22.25 18.1947 22.25 15.2952V9.29517C22.25 6.39567 19.8995 4.04517 17 4.04517H7ZM0.25 9.29517C0.25 5.56724 3.27208 2.54517 7 2.54517H17C20.7279 2.54517 23.75 5.56724 23.75 9.29517V15.2952C23.75 19.0231 20.7279 22.0452 17 22.0452H7C3.27208 22.0452 0.25 19.0231 0.25 15.2952V9.29517ZM9 10.0452C7.75736 10.0452 6.75 11.0525 6.75 12.2952C6.75 13.5378 7.75736 14.5452 9 14.5452C10.2426 14.5452 11.25 13.5378 11.25 12.2952C11.25 11.0525 10.2426 10.0452 9 10.0452ZM5.25 12.2952C5.25 10.2241 6.92893 8.54517 9 8.54517C11.0711 8.54517 12.75 10.2241 12.75 12.2952C12.75 14.3662 11.0711 16.0452 9 16.0452C6.92893 16.0452 5.25 14.3662 5.25 12.2952ZM18.75 9.29522C18.75 8.88101 18.4142 8.54522 18 8.54522C17.5858 8.54522 17.25 8.88101 17.25 9.29522V12.8181L14.624 8.8792C14.4407 8.60421 14.099 8.48163 13.7827 8.57741C13.4663 8.67318 13.25 8.96472 13.25 9.29522V15.2952C13.25 15.7094 13.5858 16.0452 14 16.0452C14.4142 16.0452 14.75 15.7094 14.75 15.2952V11.7723L17.376 15.7112C17.5593 15.9862 17.901 16.1088 18.2173 16.013C18.5337 15.9173 18.75 15.6257 18.75 15.2952V9.29522Z" fill="#FAFAF9"/>
</svg>

          <span>Home Hub</span>
        </div>
        <div className="battery-container">
          <span>100%</span>
          <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M3 7.04517C2.30964 7.04517 1.75 7.60481 1.75 8.29517V16.2952C1.75 16.9855 2.30964 17.5452 3 17.5452H18C18.6904 17.5452 19.25 16.9855 19.25 16.2952V8.29517C19.25 7.60481 18.6904 7.04517 18 7.04517H3ZM0.25 8.29517C0.25 6.77638 1.48122 5.54517 3 5.54517H18C19.5188 5.54517 20.75 6.77638 20.75 8.29517V16.2952C20.75 17.8139 19.5188 19.0452 18 19.0452H3C1.48122 19.0452 0.25 17.8139 0.25 16.2952V8.29517ZM23 9.54517C23.4142 9.54517 23.75 9.88095 23.75 10.2952V14.2952C23.75 14.7094 23.4142 15.0452 23 15.0452C22.5858 15.0452 22.25 14.7094 22.25 14.2952V10.2952C22.25 9.88095 22.5858 9.54517 23 9.54517ZM4.75 14.5452V10.0452H16.25V14.5452H4.75ZM4.6 8.54517C3.85442 8.54517 3.25 9.14958 3.25 9.89517V14.6952C3.25 15.4408 3.85442 16.0452 4.6 16.0452H16.4C17.1456 16.0452 17.75 15.4408 17.75 14.6952V9.89517C17.75 9.14958 17.1456 8.54517 16.4 8.54517H4.6Z" fill="#FAFAF9"/>
</svg>

        </div>
      </div>

      <div className="card-body">
        <div className="internet-status">
          <div className="icon-wrapper">
          <svg width="43" height="43" viewBox="0 0 43 43" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M11.0175 31.7952H11M18.0175 31.7952H18M26.75 17.7952V24.7952M31.72 12.8427C31.0699 12.1919 30.2979 11.6756 29.4481 11.3233C28.5983 10.971 27.6874 10.7897 26.7675 10.7897C25.8476 10.7897 24.9367 10.971 24.0869 11.3233C23.2371 11.6756 22.4651 12.1919 21.815 12.8427M36.655 7.89023C34.0298 5.26671 30.4702 3.79297 26.7588 3.79297C23.0473 3.79297 19.4877 5.26671 16.8625 7.89023M7.5 24.7952H35.5C37.433 24.7952 39 26.3622 39 28.2952V35.2952C39 37.2282 37.433 38.7952 35.5 38.7952H7.5C5.567 38.7952 4 37.2282 4 35.2952V28.2952C4 26.3622 5.567 24.7952 7.5 24.7952Z" stroke="#FAFAF9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

          </div>
          <div>
            <div className="home-hub-item">Internet Status</div>
            <div className="status-value">Online</div>
          </div>
        </div>

        <div className="electricity-status">
          <div className="icon-wrapper">
          <svg width="43" height="43" viewBox="0 0 43 43" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M30.25 37.0452V33.5452M30.25 33.5452C29.7859 33.5452 29.3408 33.3608 29.0126 33.0326C28.6844 32.7044 28.5 32.2593 28.5 31.7952V30.0452C28.5 29.1169 28.8687 28.2267 29.5251 27.5703C30.1815 26.9139 31.0717 26.5452 32 26.5452H35.5C36.4283 26.5452 37.3185 26.9139 37.9749 27.5703C38.6313 28.2267 39 29.1169 39 30.0452V31.7952C39 32.2593 38.8156 32.7044 38.4874 33.0326C38.1592 33.3608 37.7141 33.5452 37.25 33.5452M30.25 33.5452H37.25M37.25 33.5452V37.0452M33.75 26.5452V11.6702C33.75 10.0457 33.1047 8.4878 31.956 7.33914C30.8074 6.19048 29.2495 5.54517 27.625 5.54517C26.0005 5.54517 24.4426 6.19048 23.294 7.33914C22.1453 8.4878 21.5 10.0457 21.5 11.6702V30.9202C21.5 32.5446 20.8547 34.1025 19.706 35.2512C18.5574 36.3999 16.9995 37.0452 15.375 37.0452C13.7505 37.0452 12.1926 36.3999 11.044 35.2512C9.89531 34.1025 9.25 32.5446 9.25 30.9202V16.0452M5.75 9.04517H12.75M5.75 9.04517C5.28587 9.04517 4.84075 9.22954 4.51256 9.55773C4.18437 9.88592 4 10.331 4 10.7952V12.5452C4 13.4734 4.36875 14.3637 5.02513 15.02C5.6815 15.6764 6.57174 16.0452 7.5 16.0452H11C11.9283 16.0452 12.8185 15.6764 13.4749 15.02C14.1313 14.3637 14.5 13.4734 14.5 12.5452V10.7952C14.5 10.331 14.3156 9.88592 13.9874 9.55773C13.6592 9.22954 13.2141 9.04517 12.75 9.04517M5.75 9.04517V5.54517M12.75 9.04517V5.54517" stroke="#FAFAF9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</svg>

          </div>
          <div>
            <div className="home-hub-item">Electricity Status</div>
            <div className="status-value">On</div>
          </div>
        </div>
      </div>
    </div>


            <div className="bottom-nav">
      <div className="navigation-home">
      <div 
                    className={`nav-item ${activeNav === '/' ? 'active' : ''}`} 
                    id="home-icon" 
                    onClick={() => handleNavigate('/')}
                >          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fillRule="evenodd" clipRule="evenodd" d="M1.66463 7.32904C1.29415 7.51428 1.14398 7.96479 1.32922 8.33527C1.51446 8.70575 1.96497 8.85592 2.33545 8.67068L12 3.83838L21.6646 8.67068C22.0351 8.85592 22.4856 8.70575 22.6709 8.33527C22.8561 7.96479 22.7059 7.51428 22.3355 7.32904L12.6038 2.4632C12.2237 2.27317 11.7764 2.27317 11.3963 2.4632L1.66463 7.32904ZM4.75003 11C4.75003 10.5858 4.41424 10.25 4.00003 10.25C3.58582 10.25 3.25003 10.5858 3.25003 11V19C3.25003 20.5188 4.48125 21.75 6.00003 21.75H18C19.5188 21.75 20.75 20.5188 20.75 19V11C20.75 10.5858 20.4142 10.25 20 10.25C19.5858 10.25 19.25 10.5858 19.25 11V19C19.25 19.6904 18.6904 20.25 18 20.25H6.00003C5.30967 20.25 4.75003 19.6904 4.75003 19V11Z" fill="#292927"/>
          </svg>
        </div>

        <div 
                    className={`nav-item ${activeNav === '/analytics' ? 'active' : ''}`} 
                    id="grid-icon" 
                    onClick={() => handleNavigate('/analytics')}
                >          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fillRule="evenodd" clipRule="evenodd" d="M3.75 20.25V3.75H20.25V20.25H3.75ZM3.6 2.25C2.85442 2.25 2.25 2.85441 2.25 3.6V20.4C2.25 21.1456 2.85441 21.75 3.6 21.75H20.4C21.1456 21.75 21.75 21.1456 21.75 20.4V3.6C21.75 2.85442 21.1456 2.25 20.4 2.25H3.6ZM16.75 8C16.75 7.58579 16.4142 7.25 16 7.25C15.5858 7.25 15.25 7.58579 15.25 8V16C15.25 16.4142 15.5858 16.75 16 16.75C16.4142 16.75 16.75 16.4142 16.75 16V8ZM12.75 11C12.75 10.5858 12.4142 10.25 12 10.25C11.5858 10.25 11.25 10.5858 11.25 11V16C11.25 16.4142 11.5858 16.75 12 16.75C12.4142 16.75 12.75 16.4142 12.75 16V11ZM8 12.25C8.41421 12.25 8.75 12.5858 8.75 13V16C8.75 16.4142 8.41421 16.75 8 16.75C7.58579 16.75 7.25 16.4142 7.25 16V13C7.25 12.5858 7.58579 12.25 8 12.25Z" fill="#292927"/>
          </svg>
        </div>


        <div 
                    id="grid-icon" 
                >         <svg width="23" height="22" viewBox="0 0 23 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M22.6489 8.9795V0.00756836H15.7628L11.6573 8.04862L7.55022 0.00756836H0.664124V8.9795H3.57903V2.93854H5.77087L10.0187 11.2562L6.03292 19.0597H3.68579L3.57903 12.5989L0.664124 12.6493L0.819411 21.9923H7.81228L11.6573 14.4639L15.5023 21.9923H22.4936L22.6489 12.6493L19.734 12.5989L19.6272 19.0597H17.2801L13.2943 11.2562L17.5421 2.93854H19.734V8.9795H22.6489Z" fill="#292927"/>
                </svg>
                
                
        </div>

        <div 
                    className={`nav-item ${activeNav === '/notifications' ? 'active' : ''}`} 
                    id="grid-icon" 
                    onClick={() => handleNavigate('/alerts')}
                >         <svg width="23" height="22" viewBox="0 0 23 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M11.5039 1.15259C9.8492 1.15259 8.27197 1.85415 7.11632 3.08684C5.96208 4.31803 5.32071 5.97893 5.32071 7.70221C5.32071 11.0279 4.65326 13.1168 4.022 14.3512C3.70571 14.9698 3.39549 15.3798 3.17536 15.6277C3.06512 15.7518 2.97698 15.8358 2.92129 15.8853C2.89344 15.91 2.87366 15.9262 2.86327 15.9345L2.85528 15.9407C2.61613 16.1148 2.51502 16.4227 2.60517 16.7051C2.6961 16.9898 2.96072 17.1831 3.25964 17.1831H19.7482C20.0471 17.1831 20.3117 16.9898 20.4027 16.7051C20.4928 16.4227 20.3917 16.1148 20.1526 15.9407L20.1446 15.9345C20.1342 15.9262 20.1144 15.91 20.0865 15.8853C20.0309 15.8358 19.9427 15.7518 19.8325 15.6277C19.6123 15.3798 19.3021 14.9698 18.9858 14.3512C18.3546 13.1168 17.6871 11.0279 17.6871 7.70221C17.6871 5.97893 17.0458 4.31803 15.8915 3.08684C14.7359 1.85415 13.1586 1.15259 11.5039 1.15259ZM17.7625 14.9768C17.9253 15.2952 18.0892 15.5713 18.2469 15.8091H4.76089C4.9186 15.5713 5.08257 15.2952 5.24537 14.9768C5.98816 13.5243 6.69476 11.2162 6.69476 7.70221C6.69476 6.31577 7.21151 4.99432 8.11874 4.02661C9.02456 3.0604 10.2433 2.52663 11.5039 2.52663C12.7646 2.52663 13.9833 3.0604 14.8891 4.02661C15.7963 4.99432 16.3131 6.31577 16.3131 7.70221C16.3131 11.2162 17.0197 13.5243 17.7625 14.9768ZM10.5136 18.8996C10.3232 18.5714 9.90278 18.4596 9.57457 18.65C9.24636 18.8404 9.13464 19.2608 9.32503 19.589C9.54647 19.9708 9.86431 20.2876 10.2467 20.5079C10.6291 20.7282 11.0627 20.8441 11.504 20.8441C11.9453 20.8441 12.3789 20.7282 12.7613 20.5079C13.1438 20.2876 13.4616 19.9708 13.683 19.589C13.8734 19.2608 13.7617 18.8404 13.4335 18.65C13.1053 18.4596 12.6849 18.5714 12.4945 18.8996C12.3938 19.0731 12.2494 19.2171 12.0755 19.3172C11.9017 19.4174 11.7046 19.4701 11.504 19.4701C11.3034 19.4701 11.1064 19.4174 10.9325 19.3172C10.7587 19.2171 10.6142 19.0731 10.5136 18.8996Z" fill="#292927"/>
                </svg>
                
        </div>

        <div 
                    className={`nav-item ${activeNav === '/profile' ? 'active' : ''}`} 
                    id="user-icon" 
                    onClick={() => handleNavigate('/profile')}
                >          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fillRule="evenodd" clipRule="evenodd" d="M8.75 8C8.75 6.20507 10.2051 4.75 12 4.75C13.7949 4.75 15.25 6.20507 15.25 8C15.25 9.79493 13.7949 11.25 12 11.25C10.2051 11.25 8.75 9.79493 8.75 8ZM14.8583 11.7941C16.0073 10.9271 16.75 9.55031 16.75 8C16.75 5.37665 14.6234 3.25 12 3.25C9.37665 3.25 7.25 5.37665 7.25 8C7.25 9.55031 7.99271 10.9271 9.14172 11.7941C6.27612 12.9317 4.25 15.7293 4.25 19V20C4.25 20.4142 4.58579 20.75 5 20.75C5.41421 20.75 5.75 20.4142 5.75 20V19C5.75 15.5482 8.54822 12.75 12 12.75C15.4518 12.75 18.25 15.5482 18.25 19V20C18.25 20.4142 18.5858 20.75 19 20.75C19.4142 20.75 19.75 20.4142 19.75 20V19C19.75 15.7293 17.7239 12.9317 14.8583 11.7941Z" fill="#292927"/>
          </svg>
        </div>
      </div>
    </div>


    </div>  
  );
};

export default App;
